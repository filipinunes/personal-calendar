@if({tasks: (tasks$ | async)}; as tasks) {
<header>
  <mat-toolbar>
    <mat-toolbar-row class="justify-center">
      <span>Agenda</span>
    </mat-toolbar-row>
  </mat-toolbar>
</header>
<main class="space-y-6">
  <section>
    <div class="flex justify-end px-6">
      <button matFab extended elevated>
        <mat-icon>add</mat-icon>
        Nova atividade
      </button>
    </div>
  </section>
  <section class="flex gap-6 px-6">
    <form class="flex flex-1" [formGroup]="form">
      <mat-form-field class="flex-1">
        <mat-label>Título da tarefa</mat-label>
        <input [formControl]="searchControl" matInput />
      </mat-form-field>
    </form>
    <button matButton>Filtre por data</button>
    <button matButton>Filtre por status</button>
  </section>
  <section class="px-6">
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element">{{ element.status }}</td>
        </ng-container>

        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef>Título</th>
          <td mat-cell *matCellDef="let element">{{ element.title }}</td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Data</th>
          <td mat-cell *matCellDef="let element">{{ element.date | date }}</td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef>Descrição</th>
          <td mat-cell *matCellDef="let element">{{ element.description }}</td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Ação</th>
          <td mat-cell *matCellDef="let element">
            <div class="flex gap-3">
              <div class="hover:text-green-400">
                <mat-icon class="cursor-pointer" (click)="concludeTask(element)">check</mat-icon>
              </div>
              <div class="hover:text-red-400">
                <mat-icon class="cursor-pointer" (click)="deleteTask(element)">delete</mat-icon>
              </div>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <mat-paginator
        [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons
        aria-label="Select page of periodic elements"
      >
      </mat-paginator>
    </div>
  </section>
</main>
}
